<audio id="bgMusic" loop>
    <source src="background.mp3" type="audio/mpeg">
</audio>

<script>
    const music = document.getElementById("bgMusic");

    // 2. Resume Logic: Jaise hi page khulega, ye music ko pichle time se start karega
    window.onload = () => {
        const savedTime = localStorage.getItem('musicTime');
        if (savedTime) {
            music.currentTime = parseFloat(savedTime);
        }
        
        // Agar music on tha, toh apne aap chalne lagega
        if (localStorage.getItem('isMusicPlaying') === 'true') {
            music.play().catch(e => console.log("Music ke liye screen par touch karein"));
        }
    };

    // 3. Time Saver: Har 1 second mein memory mein time save karta rahega
    setInterval(() => {
        if (!music.paused) {
            localStorage.setItem('musicTime', music.currentTime);
        }
    }, 1000);

    // 4. Button Function: Jab aap button click karenge, ye agle page par bhej dega
    function goToCakePage() {
        localStorage.setItem('musicTime', music.currentTime); // Agle page ke liye time save kiya
        window.location.href = "cake.html";
    }
</script>

<button onclick="goToCakePage()">Let's Party ðŸŽ‰</button>
